<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="description"
        content="WDD 131 course home page showing completed and in-progress web development courses with dynamic filtering and credit totals.">
  <meta name="author" content="Edward Tiyari">
  <title>Course Home Page</title>

  <!-- Preconnect to Google Fonts -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>

  <!-- Load Google Fonts asynchronously -->
  <link href="https://fonts.googleapis.com/css2?family=Roboto&display=swap" rel="stylesheet" media="print" onload="this.media='all'">
  <noscript>
    <link href="https://fonts.googleapis.com/css2?family=Roboto&display=swap" rel="stylesheet">
  </noscript>

  <!-- Inline critical CSS -->
  <style>
    * { box-sizing: border-box; margin: 0; padding: 0; }
    body { font-family: 'Roboto', Arial, sans-serif; line-height:1.6; max-width:900px; margin:auto; padding:1rem; }
    header { background-color:#1f4e79; color:white; padding:1rem; position:relative; }
    #menu-toggle { display:none; position:absolute; top:1rem; right:1rem; background:none; color:white; font-size:1.8rem; border:none; cursor:pointer; }
    .nav { display:flex; gap:1rem; list-style:none; margin-top:0.5rem; }
    .nav a { color:white; text-decoration:none; }
    .nav a.active { text-decoration:underline; font-weight:bold; }
    main { margin-top:1.5rem; }
    .filters, .credits { border:1px solid #ccc; border-radius:6px; padding:1rem; margin-bottom:1.5rem; }
    button { padding:0.4rem 0.8rem; margin-right:0.5rem; cursor:pointer; }
    #course-list { display:flex; flex-wrap:wrap; gap:1rem; min-height: 200px; }
    .course { border:1px solid #ccc; border-radius:6px; padding:1rem; width:260px; min-height:120px; }
    .course.completed { background-color:#e6f4e6; border-color:#2d7a2d; }
    .status { font-weight:bold; }
    .course.completed .status { color:#2d7a2d; }
    footer { text-align:center; margin-top:2rem; font-size:0.9rem; }

    /* MOBILE VIEW */
    @media (max-width:600px) {
      #menu-toggle { display:block; }
      .nav { display:none; flex-direction:column; margin-top:1rem; }
      .nav.open { display:flex; }
      #course-list { flex-direction:column; }
      .course { width:100%; }
    }
  </style>

  <!-- Load full CSS asynchronously -->
  <link rel="stylesheet" href="styles/styles.css" media="print" onload="this.media='all'">

</head>

<body>
  <header>
    <h1>My Course Home Page</h1>
    <button id="menu-toggle" aria-label="Toggle Navigation">☰</button>
    <nav aria-label="Main Navigation">
      <ul class="nav">
        <li><a href="#" class="active" data-page="home">Home</a></li>
        <li><a href="#" data-page="projects">Projects</a></li>
        <li><a href="#" data-page="about">About</a></li>
      </ul>
    </nav>
  </header>

  <main>
    <!-- HOME SECTION -->
    <section id="home" class="page">
      <section class="filters">
        <h2>Course Filters</h2>
        <button data-subject="all">All</button>
        <button data-subject="CSE">CSE</button>
        <button data-subject="WDD">WDD</button>
      </section>

      <section class="courses">
        <h2>My Courses</h2>
        <div id="course-list" aria-live="polite"></div>
      </section>

      <section class="credits">
        <h2>Total Completed Credits</h2>
        <p><strong><span id="total-credits">0</span></strong></p>
      </section>
    </section>

    <!-- PROJECTS SECTION -->
    <section id="projects" class="page" style="display:none;">
      <h2>Projects</h2>
      <p>Here are my projects...</p>
    </section>

    <!-- ABOUT SECTION -->
    <section id="about" class="page" style="display:none;">
      <h2>About Me</h2>
      <p>This is information about me.</p>
    </section>
  </main>

  <footer>
    <p>© <span id="year"></span> | Last Modified: <span id="lastModified"></span></p>
  </footer>

  <!-- All JS inline -->
  <script>
    // Courses data
    const courses = [
      { subject: "CSE", number: 110, title: "Intro to Programming", credits: 2, completed: true },
      { subject: "CSE", number: 121, title: "JavaScript Language", credits: 2, completed: false },
      { subject: "WDD", number: 130, title: "Web Fundamentals", credits: 2, completed: true },
      { subject: "WDD", number: 131, title: "Dynamic Web Fundamentals", credits: 2, completed: false }
    ];

    const courseList = document.querySelector("#course-list");
    const creditDisplay = document.querySelector("#total-credits");
    const buttons = document.querySelectorAll(".filters button");
    const navLinks = document.querySelectorAll(".nav a");

    // Display courses and update total credits
    function displayCourses(courseArray) {
      courseList.innerHTML = "";
      courseArray.forEach(course => {
        const card = document.createElement("article");
        card.classList.add("course");
        if(course.completed) card.classList.add("completed");
        card.innerHTML = `
          <h3>${course.subject} ${course.number}</h3>
          <p>${course.title}</p>
          <p>Credits: ${course.credits}</p>
          <p class="status">${course.completed ? "✔ Completed" : "⏳ In Progress"}</p>
        `;
        courseList.appendChild(card);
      });

      // Update total credits based on currently displayed courses
      const total = courseArray
        .filter(c => c.completed)
        .reduce((sum, c) => sum + c.credits, 0);
      creditDisplay.textContent = total;
    }

    // Filter courses by subject
    buttons.forEach(button => {
      button.addEventListener("click", () => {
        const subject = button.dataset.subject;
        const filtered = subject === "all" ? courses : courses.filter(c => c.subject === subject);
        displayCourses(filtered);
      });
    });

    // Hamburger menu toggle
    document.querySelector("#menu-toggle").addEventListener("click", () => {
      document.querySelector(".nav").classList.toggle("open");
    });

    // Page navigation (Home, Projects, About)
    navLinks.forEach(link => {
      link.addEventListener("click", (e) => {
        e.preventDefault();
        const pageId = link.dataset.page;
        document.querySelectorAll(".page").forEach(page => page.style.display = "none");
        document.getElementById(pageId).style.display = "block";

        navLinks.forEach(l => l.classList.remove("active"));
        link.classList.add("active");
      });
    });

    // Footer dates
    document.querySelector("#year").textContent = new Date().getFullYear();
    document.querySelector("#lastModified").textContent = document.lastModified;

    // Initial load
    displayCourses(courses);
  </script>
</body>
</html>
